[gd_scene load_steps=11 format=3 uid="uid://dxxja4fmtwxxr"]

[ext_resource type="Script" path="res://scripts/scenes/Game.gd" id="1_il3fm"]
[ext_resource type="AudioStream" uid="uid://b7p1vbs2lkeom" path="res://assets/music/exports/space-asteroids.mp3" id="1_qkooj"]
[ext_resource type="PackedScene" uid="uid://c1etiohjtls2b" path="res://scenes/gui.tscn" id="2_1eeg0"]
[ext_resource type="Texture2D" uid="uid://c3jv2npk80x77" path="res://assets/background/bg-preview.png" id="2_88okx"]
[ext_resource type="PackedScene" uid="uid://dpbthifr4rvg" path="res://scenes/enemy_lvl_1.tscn" id="2_v64qi"]
[ext_resource type="PackedScene" uid="uid://3twgijhkpol7" path="res://scenes/enemy_lvl_2.tscn" id="3_m0ach"]
[ext_resource type="Script" path="res://scripts/objects/EnemyTimer.gd" id="5_gcbul"]
[ext_resource type="PackedScene" uid="uid://caw6u0xbs1jxu" path="res://scenes/player.tscn" id="5_r2not"]
[ext_resource type="PackedScene" uid="uid://bbo5ilyv8xc7d" path="res://scenes/enemy_lvl_3.tscn" id="7_xb4i1"]

[sub_resource type="Curve2D" id="Curve2D_qfix5"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 273, 0, 0, 0, 0, 0, 273, 160, 0, 0, 0, 0, 283, 160, 0, 0, 0, 0, 283, -1)
}
point_count = 4

[node name="game" type="Node2D" groups=["game"]]
script = ExtResource("1_il3fm")
enemies = Array[PackedScene]([ExtResource("2_v64qi"), ExtResource("3_m0ach"), ExtResource("7_xb4i1")])

[node name="CanvasLayer" parent="." instance=ExtResource("2_1eeg0")]

[node name="Settings" type="Node" parent="."]

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="Settings"]
stream = ExtResource("1_qkooj")
autoplay = true

[node name="lvl_1" type="Timer" parent="Settings"]
wait_time = 0.9
autostart = true
script = ExtResource("5_gcbul")
enemy = ExtResource("2_v64qi")

[node name="lvl_2" type="Timer" parent="Settings"]
script = ExtResource("5_gcbul")
enemy = ExtResource("3_m0ach")

[node name="lvl_3" type="Timer" parent="Settings"]
wait_time = 0.85
script = ExtResource("5_gcbul")
enemy = ExtResource("7_xb4i1")

[node name="Bg" type="Node" parent="."]

[node name="Back" type="ParallaxBackground" parent="Bg"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="Bg/Back"]
texture_repeat = 2
motion_mirroring = Vector2(272, 0)

[node name="Sprite2D" type="Sprite2D" parent="Bg/Back/ParallaxLayer"]
texture = ExtResource("2_88okx")
centered = false

[node name="Stars" type="ParallaxBackground" parent="Bg"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="Bg/Stars"]
texture_repeat = 2

[node name="Sprite2D" type="Sprite2D" parent="Bg/Stars/ParallaxLayer"]

[node name="Planet_1" type="ParallaxBackground" parent="Bg"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="Bg/Planet_1"]
texture_repeat = 2
motion_mirroring = Vector2(272, 0)

[node name="Sprite2D" type="Sprite2D" parent="Bg/Planet_1/ParallaxLayer"]
texture = ExtResource("2_88okx")
centered = false

[node name="Planet_2" type="ParallaxBackground" parent="Bg"]

[node name="ParallaxLayer" type="ParallaxLayer" parent="Bg/Planet_2"]
texture_repeat = 2
motion_mirroring = Vector2(272, 0)

[node name="Sprite2D" type="Sprite2D" parent="Bg/Planet_2/ParallaxLayer"]
texture = ExtResource("2_88okx")
centered = false
offset = Vector2(272, 0)
flip_v = true

[node name="Path2D" type="Path2D" parent="."]
position = Vector2(-1, 0)
curve = SubResource("Curve2D_qfix5")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(273, 0)
rotation = 1.5708

[node name="Player" parent="." instance=ExtResource("5_r2not")]

[connection signal="enemy_spawn" from="Settings/lvl_1" to="." method="_on_enemy_spawn"]
[connection signal="enemy_spawn" from="Settings/lvl_2" to="." method="_on_enemy_spawn"]
[connection signal="enemy_spawn" from="Settings/lvl_3" to="." method="_on_enemy_spawn"]
